import{P as U,Q as T,aa as c,s as v,a8 as C,ae as h,ab as E,ad as N,d as D,a as d,c as b,w as f,b as i,T as A,U as S,V as y,u as t,e as m,W as M,an as $,g as u,o as k,r as B,_ as L,f as w,h as F,ao as R,i as I,j as P,k as Q}from"./index-D4Bvn5yU.js";import{C as V}from"./compte.tables-Cp2-EN0C.js";const x=()=>{const{readData:g}=E(),e=U({loading:!1,loadingCreate:!1}),s=T([]);s.value=c().Comptes;const p=v(()=>c().Comptes),n=o=>o.map(l=>({id:l.id,numero_compte:l.numero_compte,nom:l.nom,solde:l.solde,date_creation:N(l.created_at).format("DD/MM/YYYY")}));return{FindCompteAll:()=>{e.loading=!0,g(C.BANQUE_LIST).then(o=>{c().Comptes=n(o.datas),e.loading=!1}).catch(()=>{e.loading=!1})},CreateCompte:async o=>{h(e,c(),"Comptes",n).SetCreate(C.BANQUE_CREATE,o)},CompteUpdate:(o,l)=>{h(e,c(),"Comptes",n).SetUpdate(C.BANQUE_UPDATE,o,l)},CompteDelete:o=>{h(e,c(),"Comptes",n).SetDelete(C.BANQUE_REMOVE,o)},stateComptes:s,setCompte:e,storeComptes:p}},j=U([{label:"Numéro du compte",type:"text",placeholder:"Numéro du compte",name:"numero_compte",value:"",select:[]},{label:"Libelle du compte",type:"text",placeholder:"Libelle du compte",name:"nom",value:"",select:[]}]),O={class:"w-full space-y-2"},Y={class:""},q=D({__name:"compte.modal",setup(g){const{CreateCompte:e,CompteUpdate:s,setCompte:p}=x(),n=_=>{console.log(u().isUpdate);let r=new FormData(_.target);u().isUpdate.is?s(u().isUpdate.id,r):e(r)};return(_,r)=>(d(),b($,{Func:n,loading:t(p).loadingCreate,permissions:"ajouter-transaction-banque"},{form:f(()=>[i("div",O,[(d(!0),A(S,null,y(t(j),a=>(d(),A("div",Y,[m(M,{title:a.label,name:a.name,label:a.label,type:a.type,placeholder:a.placeholder,select:a.select},null,8,["title","name","label","type","placeholder","select"])]))),256))])]),_:1},8,["loading"]))}}),H={class:"flex flex-col w-full gap-4 bg-white rounded-lg mb-8"},W={class:"flex gap-2"},z=i("button",{class:"bg-blue-500 text-white rounded-lg px-4 h-full font-bold flex gap-1 items-center"},[i("i",{class:"ri-line-chart-line"}),i("span",{class:"hidden lg:flex"},"Transactions")],-1),X=D({__name:"compte_compta.page",setup(g){const{FindCompteAll:e,storeComptes:s,CompteDelete:p,setCompte:n}=x();return k(()=>{e()}),(_,r)=>{const a=B("RouterLink");return d(),b(Q,null,{content:f(()=>[i("section",H,[m(L,{title:"COMPTABILITES | Comptes bancaire"},{created:f(()=>[i("div",W,[m(a,{class:"h-10",to:{name:"COMPTA_TRANSACTION"}},{default:f(()=>[z]),_:1}),m(q,{name:"Ajouter un compte",title:t(u)().isUpdate.is?"Modifier Compte":"Ajouter Compte"},null,8,["title"]),m(w,{funDelete:t(p),id:t(u)().isDelete.id},null,8,["funDelete","id"])])]),_:1}),t(s).length!=0?(d(),b(F,{key:0,dataTables:t(s),MenuActions:t(R),display:t(V)},null,8,["dataTables","MenuActions","display"])):I("",!0),m(P,{loading:t(n).loading,data:t(s),name:"Aucune Comptes"},null,8,["loading","data"])])]),_:1})}}});export{X as default};
