import{P as A,Q as h,ab as i,O as D,s as F,R as B,aj as T,S as k,ac as v,ad as S,d as M,o as w,c as p,w as _,_ as y,a as f,b as E,e as g,h as I,u as n,i as N,ap as O,j as x,k as L}from"./index-B8t3to7H.js";const U=[{label:"Libelles",field:"libelle",status:null,color:null,bgColor:null},{label:"Valeurs",field:"value",status:null,color:null,bgColor:null},{label:"Date de creation",field:"date_creation",status:null,color:null,bgColor:null}],R=()=>{const{readData:u,createData:c}=k(),{EmptyFields:s}=v(),a=A({loading:!1,loadingCreate:!1}),d=h([]);d.value=i().Bilans;const{toast:o}=D(),m=t=>t.map(r=>({libelle:r.key.replace(/_/g," ").replace(/(^\w|\s\w)/g,e=>e.toUpperCase()),value:r.value,date_creation:S(r.created_at).format("DD/MM/YYYY")})),C=F(()=>i().Bilans);return{FindBilanAll:()=>{a.loading=!0,u(B.BILAN_LIST).then(t=>{i().Bilans=m(t.data),a.loading=!1}).catch(()=>{a.loading=!1})},FindBilanOne:()=>{},CreateBilan:async t=>(a.loadingCreate=!0,{data:await c(B.CAISSE_TRANSACTION_CREATE,t).then(e=>{if(e){s(t),a.loadingCreate=!1;let l=i().Bilans;const b=[];l.unshift(...b),i().Bilans=l,T().open=!1,o({title:"EnregistrÃ©",description:e.message})}}).catch(e=>{if(a.loadingCreate=!1,e){const l=Object.keys(e.response.data.errors);o(l?{title:l[0],variant:"destructive",description:e.response.data.errors[l[0]][0]}:{title:"error",variant:"destructive",description:e.response.data.message})}})}),FindBilanUpdate:()=>{},FindBilanDelete:()=>{},stateBilans:d,setBilan:a,storeBilans:C}},V={class:"flex flex-col w-full gap-4 bg-white rounded-lg mb-8"},q=M({__name:"bilan_compta.page",setup(u){const{FindBilanAll:c,storeBilans:s,setBilan:a}=R();return w(()=>{c()}),(d,o)=>(f(),p(y,null,{content:_(()=>[E("section",V,[g(I,{title:"COMPTABILITES | Bilans"},{created:_(()=>[]),_:1}),n(s).length!=0?(f(),p(N,{key:0,dataTables:n(s),MenuActions:n(O),display:n(U)},null,8,["dataTables","MenuActions","display"])):x("",!0),g(L,{loading:n(a).loading,data:n(s),name:"Aucun bilan"},null,8,["loading","data"])])]),_:1}))}});export{q as default};
