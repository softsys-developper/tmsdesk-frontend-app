import{m as D,n as T,V as c,W as v,A as C,a2 as h,p as E,X as S,d as U,a as r,c as A,w as f,b as m,t as b,v as $,e as i,x as k,u as t,F as y,a3 as B,g as u,o as N,_ as F,r as L,f as M,h as w,i as R,a4 as I,j as V,k as O}from"./index-COUacuv0.js";import{C as P}from"./compte.tables-DpGsv6Zp.js";const x=()=>{const{readData:g}=E(),e=D({loading:!1,loadingCreate:!1}),o=T([]);o.value=c().Comptes;const p=v(()=>c().Comptes),l=s=>s.map(n=>({id:n.id,nom:n.nom,solde:n.solde,date_creation:S(n.created_at).format("l")}));return{FindCompteAll:()=>{e.loading=!0,g(C.BANQUE_LIST).then(s=>{c().Comptes=l(s.datas),e.loading=!1}).catch(()=>{e.loading=!1})},CreateCompte:async s=>{h(e,c(),"Comptes",l).SetCreate(C.BANQUE_CREATE,s)},CompteUpdate:(s,n)=>{h(e,c(),"Comptes",l).SetUpdate(C.BANQUE_UPDATE,s,n)},CompteDelete:s=>{h(e,c(),"Comptes",l).SetDelete(C.BANQUE_REMOVE,s)},stateComptes:o,setCompte:e,storeComptes:p}},Q=[{label:"Libelle du compte",type:"text",placeholder:"Libelle du compte",name:"nom",value:"",select:[]}],j={class:"w-full space-y-2"},H={class:""},W=U({__name:"compte.modal",setup(g){const{CreateCompte:e,CompteUpdate:o,setCompte:p}=x(),l=_=>{console.log(u().isUpdate);let d=new FormData(_.target);u().isUpdate.is?o(u().isUpdate.id,d):e(d)};return(_,d)=>(r(),A(B,{Func:l,loading:t(p).loadingCreate},{form:f(()=>[m("div",j,[(r(!0),b(y,null,$(t(Q),a=>(r(),b("div",H,[i(k,{title:a.label,name:a.name,label:a.label,type:a.type,placeholder:a.placeholder,select:a.select},null,8,["title","name","label","type","placeholder","select"])]))),256))])]),_:1},8,["loading"]))}}),X={class:"flex flex-col w-full gap-4 bg-white rounded-lg mb-8"},q={class:"flex gap-2"},z=m("button",{class:"bg-blue-500 text-white rounded-lg px-4 h-full font-bold flex gap-1 items-center"},[m("i",{class:"ri-line-chart-line"}),m("span",{class:"hidden lg:flex"},"Transactions")],-1),Y=U({__name:"compte_compta.page",setup(g){const{FindCompteAll:e,storeComptes:o,CompteDelete:p,setCompte:l}=x();return N(()=>{e()}),(_,d)=>{const a=L("RouterLink");return r(),A(F,null,{content:f(()=>[m("section",X,[i(w,{title:"COMPTABILITES | Comptes bancaire"},{created:f(()=>[m("div",q,[i(a,{class:"h-10",to:{name:"COMPTA_TRANSACTION"}},{default:f(()=>[z]),_:1}),i(W,{name:"Ajouter un compte",title:t(u)().isUpdate.is?"Modifier Clients":"Ajouter Clients"},null,8,["title"]),i(M,{funDelete:t(p),id:t(u)().isDelete.id},null,8,["funDelete","id"])])]),_:1}),t(o).length!=0?(r(),A(R,{key:0,dataTables:t(o),MenuActions:t(I),display:t(P)},null,8,["dataTables","MenuActions","display"])):V("",!0),i(O,{loading:t(l).loading,data:t(o),name:"Aucune Comptes"},null,8,["loading","data"])])]),_:1})}}});export{Y as default};
