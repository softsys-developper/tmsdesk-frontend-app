import{P as A,Q as D,aa as s,s as U,a8 as i,ae as m,ab as g,d as y,S as E,o as T,a as F,c as v,w as I,b as S,T as b,U as q,V as x,u as C,e as R,W as w,am as B,ac as L,g as f}from"./index-BgnADJI4.js";const k=()=>{const{readData:P,showData:u}=g(),e=A({loading:!1,loadingCreate:!1,facture:{}}),o=D([]);o.value=s().FacturePaids;const c=t=>t.map(a=>({id:a.id,recepteur:a.recepteur,montant:a.montant,type_transaction:`<p class="' py-1  capitalize max-w-min rounded-md px-4 flex justify-center font-bold text-xs text-white ' ${a.type_transaction!=="entrée"?"bg-red-500":"bg-green-500"}">${a.type_transaction}</p>`,banque:a.banque.nom,date_transaction:a.date_transaction})),d=U(()=>s().FacturePaids);return{FindFacturePaidAll:()=>{e.loading=!0,P(i.FACTURE_PAID_LIST).then(t=>{s().FacturePaids=c(t.datas),e.loading=!1}).catch(()=>{e.loading=!1})},FindFacturePaidOne:t=>{e.loading=!0,u(i.FACTURE_PAID_DETAIL,t).then(a=>{e.facture=a.facture,s().FacturePaids=c(a.datas),e.loading=!1}).catch(()=>{e.loading=!1})},CreateFacturePaid:async t=>{m(e,s(),"FacturePaids",c).SetCreate(i.FACTURE_PAID_CREATE,t)},FacturePaidUpdate:(t,a)=>{m(e,s(),"FacturePaids",c).SetUpdate(i.FACTURE_PAID_UPDATE,t,a)},FacturePaidDelete:t=>{m(e,s(),"FacturePaids",c).SetDelete(i.FACTURE_PAID_REMOVE,t)},stateFacturePaids:o,setFacturePaid:e,storeFacturePaids:d}},_=[{label:"Montant à payer",type:"number",placeholder:"Choisir le numéro de la facture",name:"montant",value:"",select:[]},{label:"Mode de paiement",type:"select",placeholder:"Choisir le numéro de la facture",name:"mode_paiement",value:"",select:[{id:"cash",name:"Cash"},{id:"virement",name:"Virement"},{id:"cheque",name:"Cheque"}]},{label:"Banque",type:"select",placeholder:"Choisir la banque",name:"banque",value:"",select:[]},{label:"Désignation",type:"text",placeholder:"Choisir la banque",name:"designation",value:"",select:[]}],V={class:"w-full space-y-2"},M={class:""},$=y({__name:"facture_paid.modal",setup(P){const u=E(),{CreateFacturePaid:e,FacturePaidUpdate:o,setFacturePaid:c}=k(),{remplacerObjetDansTableau:d}=L(),{readData:p}=g(),h=n=>{let r=new FormData(n.target);r.append("factureId",u.query.id),f().isUpdate.is?o(f().isUpdate.id,r):e(r)};return T(()=>{s().Factures&&(p(i.BANQUE_LIST).then(n=>{s().Comptes=n.datas,d(_,"name","banque",n.datas)}),p(i.FACTURE_LIST).then(n=>{d(_,"name","factureId",n.datas.map(r=>({id:r.id,name:r.numero_facture})))}))}),(n,r)=>(F(),v(B,{Func:h,loading:C(c).loadingCreate,permissions:"payer-facture-client"},{form:I(()=>[S("div",V,[(F(!0),b(q,null,x(C(_),l=>(F(),b("div",M,[R(w,{title:l.label,name:l.name,label:l.label,type:l.type,placeholder:l.placeholder,select:l.select},null,8,["title","name","label","type","placeholder","select"])]))),256))])]),_:1},8,["loading"]))}});export{$ as _,k as u};
