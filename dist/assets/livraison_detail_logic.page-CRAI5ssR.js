import{P as A,Q as I,aa as n,s as h,ad as F,a8 as o,ae as u,ab as R,d as T,S as U,o as O,a as b,c as S,w as m,b as E,e as c,_ as N,f as M,u as t,g as V,h as k,ah as w,i as x,j as y,k as $}from"./index-S7Y4FJNc.js";const Y=[{label:"ID",field:"id",status:null,color:null,bgColor:null},{label:"Reference",field:"reference",status:null,color:null,bgColor:null},{label:"Site livraison",field:"site_livraison",status:null,color:null,bgColor:null},{label:"Agent livraison",field:"agent_livraison",status:null,color:null,bgColor:null},{label:"Chauffeur",field:"chauffeur",status:null,color:null,bgColor:null},{label:"Date livraison",field:"date_livraison",status:null,color:null,bgColor:null},{label:"Date retour",field:"date_retour",status:null,color:null,bgColor:null},{label:"Date de creation",field:"date_creation",status:null,color:null,bgColor:null}],P=()=>{const{readData:_}=R(),e=A({loading:!1,loadingCreate:!1}),s=I([]);s.value=n().BCLivraisonDetails;const i=l=>l.map(a=>{var f,D,C,L,g,B;return{id:a.id,reference:(f=a.livraison)==null?void 0:f.reference,site_livraison:(D=a.livraison)==null?void 0:D.site_livraison,agent_livraison:(C=a.livraison)==null?void 0:C.agent_livraison,chauffeur:(L=a.livraison)==null?void 0:L.chauffeur,date_livraison:(g=a.livraison)==null?void 0:g.date_livraison,date_retour:(B=a.livraison)==null?void 0:B.date_retour,date_creation:F(a.created_at).format("DD/MM/YYYY")}}),d=h(()=>n().BCLivraisonDetails);return{FindBCLivraisonDetailAll:()=>{e.loading=!0,_(o.LIVRAISON_DETAIL_LIST).then(l=>{n().BCLivraisonDetails=i(l.datas),e.loading=!1}).catch(()=>{e.loading=!1})},FindBCLivraisonDetailOne:l=>{e.loadingCreate=!0,u(e,n(),"BCLivraisonDetails",i).SetShow(o.LIVRAISON_DETAIL_LIST,l)},CreateBCLivraisonDetail:async(l,a)=>{e.loadingCreate=!0,u(e,n(),"BCLivraisonDetails",i,a()).SetCreate(o.LIVRAISON_DETAIL_LIST,l)},FindBCLivraisonDetailUpdate:(l,a)=>{u(e,n(),"BCLivraisonDetails",i).SetUpdate(o.BC_FOURNISSEUR_UPDATE,l,a)},FindBCLivraisonDetailDelete:l=>{u(e,n(),"BCLivraisonDetails",i).SetDelete(o.BC_FOURNISSEUR_REMOVE,l)},stateBCLivraisonDetails:s,setBCLivraisonDetail:e,storeBCLivraisonDetails:d,formatBCLivraisonDetailData:i}},q={class:"flex flex-col w-full gap-4 bg-white rounded-lg mb-8"},z=T({__name:"livraison_detail_logic.page",setup(_){const e=U(),{storeBCLivraisonDetails:s,FindBCLivraisonDetailOne:i,FindBCLivraisonDetailDelete:d,setBCLivraisonDetail:v}=P();return O(()=>{var r;i((r=e.query)==null?void 0:r.id)}),(r,p)=>(b(),S($,null,{content:m(()=>[E("section",q,[c(N,{title:"Logistique | DÃ©tails Livraison"},{created:m(()=>[c(M,{funDelete:t(d),id:t(V)().isDelete.id},null,8,["funDelete","id"])]),_:1}),t(s).length!=0?(b(),S(k,{key:0,dataTables:t(s),MenuActions:t(w),display:t(Y)},null,8,["dataTables","MenuActions","display"])):x("",!0),c(y,{loading:t(v).loading,data:t(s),name:"Aucune BCLivraisonDetail"},null,8,["loading","data"])])]),_:1}))}});export{z as default};
