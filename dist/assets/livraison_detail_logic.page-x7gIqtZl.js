import{P as g,Q as b,aa as l,s as v,ad as B,a8 as r,ae as u,ab as p,d as S,S as I,o as A,a as D,c as C,w as f,b as h,e as _,_ as x,f as F,u as s,g as R,h as T,ah as U,i as y,j as E,k as N}from"./index-BLI2DzAm.js";const O=[{label:"ID",field:"id",status:null,color:null,bgColor:null},{label:"N* BDC",field:"numero_bon_de_commande",status:null,color:null,bgColor:null},{label:"Montant",field:"montant",status:null,color:null,bgColor:null},{label:"Date de la commande",field:"date_commande",status:null,color:null,bgColor:null},{label:"Status",field:"etat",status:null,color:null,bgColor:null},{label:"Date de creation",field:"date_creation",status:null,color:null,bgColor:null}],M=()=>{const{readData:m}=p(),t=g({loading:!1,loadingCreate:!1}),o=b([]);o.value=l().BCLivraisonDetails;const i=(a,e)=>`<span class="flex  text-center text-sm font-bold max-w-max px-2 py-1 rounded-md justify-center text-white ${e}" >${a}</span>`,n=a=>a.map(e=>({id:e.id,numero_bon_de_commande:e.numero_bon_de_commande,montant:e.montant,date_commande:e.date_commande,etat:e.etat==1?i("En cours","bg-orange-500"):e.statut==2?i("Valider","bg-green-500"):i("Rejeter","bg-red-500"),adresse:e.adresse,pays:e.pays,site_internet:e.site_internet,date_creation:B(e.created_at).format("DD/MM/YYYY")})),c=v(()=>l().BCLivraisonDetails);return{FindBCLivraisonDetailAll:()=>{t.loading=!0,m(r.LIVRAISON_DETAIL_LIST).then(a=>{l().BCLivraisonDetails=n(a.datas),t.loading=!1}).catch(()=>{t.loading=!1})},FindBCLivraisonDetailOne:a=>{t.loadingCreate=!0,u(t,l(),"BCLivraisonDetails",n).SetShow(r.LIVRAISON_DETAIL_LIST,a)},CreateBCLivraisonDetail:async(a,e)=>{t.loadingCreate=!0,u(t,l(),"BCLivraisonDetails",n,e()).SetCreate(r.LIVRAISON_DETAIL_LIST,a)},FindBCLivraisonDetailUpdate:(a,e)=>{u(t,l(),"BCLivraisonDetails",n).SetUpdate(r.BC_FOURNISSEUR_UPDATE,a,e)},FindBCLivraisonDetailDelete:a=>{u(t,l(),"BCLivraisonDetails",n).SetDelete(r.BC_FOURNISSEUR_REMOVE,a)},stateBCLivraisonDetails:o,setBCLivraisonDetail:t,storeBCLivraisonDetails:c,formatBCLivraisonDetailData:n}},V={class:"flex flex-col w-full gap-4 bg-white rounded-lg mb-8"},j=S({__name:"livraison_detail_logic.page",setup(m){const t=I(),{storeBCLivraisonDetails:o,FindBCLivraisonDetailOne:i,FindBCLivraisonDetailDelete:n,setBCLivraisonDetail:c}=M();return A(()=>{var d;i((d=t.query)==null?void 0:d.id)}),(d,L)=>(D(),C(N,null,{content:f(()=>[h("section",V,[_(x,{title:"Logistique | DÃ©tails Livraison"},{created:f(()=>[_(F,{funDelete:s(n),id:s(R)().isDelete.id},null,8,["funDelete","id"])]),_:1}),s(o).length!=0?(D(),C(T,{key:0,dataTables:s(o),MenuActions:s(U),display:s(O)},null,8,["dataTables","MenuActions","display"])):y("",!0),_(E,{loading:s(c).loading,data:s(o),name:"Aucune BCLivraisonDetail"},null,8,["loading","data"])])]),_:1}))}});export{j as default};
