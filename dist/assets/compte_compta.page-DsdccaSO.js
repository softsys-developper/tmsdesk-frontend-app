import{P as U,Q as S,ab as c,s as T,R as C,ag as h,S as v,ac as E,d as x,a as r,c as b,w as f,b as i,V as A,W as N,e as m,X as y,u as t,Y as $,ah as k,g as u,o as B,_ as L,r as M,f as w,h as F,i as R,al as I,j as P,k as Q}from"./index-DA5k25R5.js";import{C as V}from"./compte.tables-Cp2-EN0C.js";const D=()=>{const{readData:g}=v(),e=U({loading:!1,loadingCreate:!1}),s=S([]);s.value=c().Comptes;const p=T(()=>c().Comptes),l=o=>o.map(n=>({id:n.id,numero_compte:n.numero_compte,nom:n.nom,solde:n.solde,date_creation:E(n.created_at).format("l")}));return{FindCompteAll:()=>{e.loading=!0,g(C.BANQUE_LIST).then(o=>{c().Comptes=l(o.datas),e.loading=!1}).catch(()=>{e.loading=!1})},CreateCompte:async o=>{h(e,c(),"Comptes",l).SetCreate(C.BANQUE_CREATE,o)},CompteUpdate:(o,n)=>{h(e,c(),"Comptes",l).SetUpdate(C.BANQUE_UPDATE,o,n)},CompteDelete:o=>{h(e,c(),"Comptes",l).SetDelete(C.BANQUE_REMOVE,o)},stateComptes:s,setCompte:e,storeComptes:p}},O=U([{label:"Numéro du compte",type:"text",placeholder:"Numéro du compte",name:"numero_compte",value:"",select:[]},{label:"Libelle du compte",type:"text",placeholder:"Libelle du compte",name:"nom",value:"",select:[]}]),j={class:"w-full space-y-2"},H={class:""},W=x({__name:"compte.modal",setup(g){const{CreateCompte:e,CompteUpdate:s,setCompte:p}=D(),l=_=>{console.log(u().isUpdate);let d=new FormData(_.target);u().isUpdate.is?s(u().isUpdate.id,d):e(d)};return(_,d)=>(r(),b(k,{Func:l,loading:t(p).loadingCreate},{form:f(()=>[i("div",j,[(r(!0),A($,null,N(t(O),a=>(r(),A("div",H,[m(y,{title:a.label,name:a.name,label:a.label,type:a.type,placeholder:a.placeholder,select:a.select},null,8,["title","name","label","type","placeholder","select"])]))),256))])]),_:1},8,["loading"]))}}),X={class:"flex flex-col w-full gap-4 bg-white rounded-lg mb-8"},Y={class:"flex gap-2"},q=i("button",{class:"bg-blue-500 text-white rounded-lg px-4 h-full font-bold flex gap-1 items-center"},[i("i",{class:"ri-line-chart-line"}),i("span",{class:"hidden lg:flex"},"Transactions")],-1),K=x({__name:"compte_compta.page",setup(g){const{FindCompteAll:e,storeComptes:s,CompteDelete:p,setCompte:l}=D();return B(()=>{e()}),(_,d)=>{const a=M("RouterLink");return r(),b(L,null,{content:f(()=>[i("section",X,[m(F,{title:"COMPTABILITES | Comptes bancaire"},{created:f(()=>[i("div",Y,[m(a,{class:"h-10",to:{name:"COMPTA_TRANSACTION"}},{default:f(()=>[q]),_:1}),m(W,{name:"Ajouter un compte",title:t(u)().isUpdate.is?"Modifier Compte":"Ajouter Compte"},null,8,["title"]),m(w,{funDelete:t(p),id:t(u)().isDelete.id},null,8,["funDelete","id"])])]),_:1}),t(s).length!=0?(r(),b(R,{key:0,dataTables:t(s),MenuActions:t(I),display:t(V)},null,8,["dataTables","MenuActions","display"])):P("",!0),m(Q,{loading:t(l).loading,data:t(s),name:"Aucune Comptes"},null,8,["loading","data"])])]),_:1})}}});export{K as default};
